[Unit]
Description=etcd
Documentation=https://github.com/coreos/etcd

[Service]
Type=notify
Restart=always
RestartSec=5s
LimitNOFILE=40000
TimeoutStartSec=0

ExecStart=/usr/local/bin/etcd gateway start \
  --endpoints=<%= @headnodes.collect{|x| 'http://' + x['bcpc']['management']['ip'] + ':2379'}.join(',') %> \
  --listen-addr localhost:2379

[Install]
WantedBy=multi-user.target
